<h1 id="measuredcore">Measured Core</h1>
<p>The core measured library that has the Metric interfaces and implementations.</p>
<h2 id="install">Install</h2>
<pre><code>npm install measured-core
</code></pre>
<h2 id="docs">Docs</h2>
<h3 id="seethefullapidocsherehttpsyaorggithubionodemeasuredcoreindexhtml">See the full <a href="https://yaorg.github.io/node-measured/core/index.html">API Docs here</a>.</h3>
<h3 id="metrics">Metrics</h3>
<p>The core library has the following metrics classes:</p>
<ul>
<li><a href="https://yaorg.github.io/node-measured/core/index.html#gauge">Gauge</a>, Values that can be read instantly via a supplied call back.</li>
<li><a href="https://yaorg.github.io/node-measured/core/index.html#settablegauge">SettableGauge</a>, Just like a Gauge but its value is set directly rather than supplied by a callback.</li>
<li><a href="https://yaorg.github.io/node-measured/core/index.html#counter">Counter</a>, Counters are things that increment or decrement.</li>
<li><a href="https://yaorg.github.io/node-measured/core/index.html#timer">Timer</a>, Timers are a combination of Meters and Histograms. They measure the rate as well as distribution of scalar events.</li>
<li><a href="https://yaorg.github.io/node-measured/core/index.html#histogram">Histogram</a>, Keeps a reservoir of statistically relevant values to explore their distribution.</li>
<li><a href="https://yaorg.github.io/node-measured/core/index.html#meter">Meter</a>, Things that are measured as events / interval.</li>
</ul>
<p>They can be created manually or with the including basic core registry called the <a href="https://yaorg.github.io/node-measured/core/index.html#collection">Collection</a>.</p>
<h2 id="usage">Usage</h2>
<p><strong>Step 1:</strong> Add measurements to your code. For example, lets track the
requests/sec of a http server:</p>
<pre><code class="js language-js">var http  = require('http');
var stats = require('measured').createCollection();

http.createServer(function(req, res) {
  stats.meter('requestsPerSecond').mark();
  res.end('Thanks');
}).listen(3000);
</code></pre>
<p><strong>Step 2:</strong> Show the collected measurements (more advanced examples follow later):</p>
<pre><code class="js language-js">setInterval(function() {
  console.log(stats.toJSON());
}, 1000);
</code></pre>
<p>This will output something like this every second:</p>
<pre><code>{ requestsPerSecond:
   { mean: 1710.2180279856818,
     count: 10511,
     'currentRate': 1941.4893498239829,
     '1MinuteRate': 168.08263156623656,
     '5MinuteRate': 34.74630977619571,
     '15MinuteRate': 11.646507524106095 } }
</code></pre>
<p><strong>Step 3:</strong> Aggregate the data into your backend of choice.
Here are a few time series data aggregators.</p>
<ul>
<li><a href="http://graphite.wikidot.com/">Graphite</a><ul>
<li>A free and open source, self hosted and managed solution for time series data.</li></ul></li>
<li><a href="https://signalfx.com/">SignalFx</a><ul>
<li>An enterprise SASS offering for time series data.</li></ul></li>
<li><a href="https://www.datadoghq.com/">Datadog</a><ul>
<li>An enterprise SASS offering for time series data.</li></ul></li>
</ul>